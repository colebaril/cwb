---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# trashpanda <img src="man/figures/logo.png" align="right" height="139" alt="" />

<!-- badges: start -->
[![pkgdown](https://img.shields.io/badge/documentation-online-blue)](https://colebaril.github.io/cwb/)
![Version](https://img.shields.io/badge/version-0.0.1-blue)
![License](https://img.shields.io/github/license/colebaril/cwb)
![GitHub stars](https://img.shields.io/github/stars/colebaril/cwb?style=social)
[![R-CMD-check](https://github.com/colebaril/cwb/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/colebaril/cwb/actions/workflows/R-CMD-check.yaml)
<!-- badges: end -->

If you’ve ever seen me digging through nested folders or dumpster-diving for that one CSV file, you know it’s just a typical day in the life of a data wrangler; usually, I just feel like a *trash panda*. Half the columns are missing, some files won’t even open, and everything else is misnamed: chaos, pure and simple. That’s exactly why I built trashpanda: to help me tame messy file systems, clean up unruly data, beautify plots, manage colour palettes, and automate the little tasks that normally make me want to throw my computer into a real dumpster fire.

## Installation

You can install the development version of trashpanda from [GitHub](https://github.com/colebaril/trashpanda) with:

``` r
devtools::install_github("colebaril/trashpanda")
```

## Example

### Themes and Palettes
In the following example, `theme_cole()` is used to alter thematic elements 
of the plot and `scale_cwb()` is used to apply my custom colour palettes. 
I also use the `add_caption_cwb()` function to automatically insert a caption that is
pre-formatted with icons and social media tags. You can easily flip to dark mode!

```{r, example_theme_palette, message = FALSE, warning = FALSE, fig.width = 10, fig.height = 7}
require(pacman)
p_load(trashpanda, ggplot2, palmerpenguins)

ggplot(penguins, aes(flipper_length_mm, bill_length_mm, fill = species, group = species)) +
  geom_point(shape = 21) +
  geom_smooth(aes(colour = species), se = FALSE, method = "lm") +
  scale_cwb(name = "Species", palette = "arcane_flame", type = "d", aesthetics = "fill") +
  scale_cwb(name = "Species", palette = "arcane_flame", type = "d", aesthetics = "colour") +
  theme_cole(show_axis_lines = c("bottom", "left"), remove_grid = TRUE) +
  labs(title = "Palmer Penguin Bill Length \nvs. Flipper Length", x = "Flipper Length (mm)", y = "Bill Length (mm)") +
  add_caption_cwb(type = "plot") 

ggplot(penguins, aes(flipper_length_mm, bill_length_mm, fill = species, group = species)) +
  geom_point(shape = 21) +
  geom_smooth(aes(colour = species), se = FALSE, method = "lm") +
  scale_cwb(name = "Species", palette = "arcane_flame", type = "d", aesthetics = "fill") +
  scale_cwb(name = "Species", palette = "arcane_flame", type = "d", aesthetics = "colour") +
  theme_cole(show_axis_lines = c("bottom", "left"), remove_grid = TRUE, dark = TRUE) +
  labs(title = "Palmer Penguin Bill Length \nvs. Flipper Length", x = "Flipper Length (mm)", y = "Bill Length (mm)") +
  add_caption_cwb(type = "plot") 
  
```

### Data Cleaning

In this example, `clean_data()` is used to standardize column names, trim white 
space, convert empty columns to true `NA`s, and flags outliers for any numeric
columns using robust means.

```{r, example_cleaning}
df <- tibble::tibble(
  "First Name" = c(" Alice ", "Bob", "", "CHARLIE", "dave", "Eve", NA, "Bob", "Bob"),
  "Last Name" = c("Smith", "Jones", "O'Neil", "Brown", "Miller", "O'Brien", "", "Jones", "Jones"),
  "Score" = c(10, 5000, 15, 20, 12, -999, 14, 5000, 5000),  
  "Enrollment Date" = c("2025-01-01", "20241215", "2025/02/01", "", NA, "01-03-2025", "2025-01-01", "2024-12-15", "2024-12-15"),
  "Grade" = c("A", "b", "C", "A", "B", "", "A", "b", "b"),
  "Comments!" = c("Good", " Excellent ", "", "Needs work", NA, "Good!", "Average", " Excellent ", " Excellent "),
  "EmptyCol" = c(NA, NA, NA, NA, NA, NA, NA, NA, NA)
)

print(df)

clean_data(df, trim_chars = TRUE, empty_to_na = TRUE, flag_outliers = TRUE)
```

### Citing Packages

Using the `trashpanda::cite_packages()` function, you can easily cite all packages used in
your script or file, choosing between R Markdown output or plain text options. 

```{r, echo = TRUE, results = 'asis', comment = NA}
cite_packages(format = "rmd")
```

